# DIPLOMA  
## Обробка помилок в Bash-скриптах

Цей шаблон обробки помилок використовується у всіх Bash-скриптах проєкту. Його мета — зробити виконання скриптів надійними, передбачуваними та безпечними незалежно від їх функціоналу.

───────────────────────────────  
🔹 Призначення  
───────────────────────────────

У Bash за замовчуванням багато помилок залишаються непоміченими. Щоб цього уникнути, у кожному скрипті використовується така конструкція:

```
#!/usr/bin/env bash  
set -euo pipefail  
IFS=$'\n\t'

trap 'echo "Сталася помилка на рядку $LINENO"; exit 1' ERR
```

───────────────────────────────  
🔹 Пояснення  
───────────────────────────────

- ```#!/usr/bin/env bash```  
  Використовує Bash незалежно від його розташування у системі.

- ```set -euo pipefail```
  - -e  : Завершити при першій помилці.
  - -u  : Заборонити необ’явлені змінні.
  - -o pipefail: Помилка в конвеєрі = помилка всього блоку.

- ```IFS=$'\n\t'```  
  Розділення лише за символами нового рядка та табуляції. Уникнення проблем із пробілами.

- ```trap 'echo "Сталася помилка на рядку $LINENO"; exit 1' ERR```  
  Повідомлення про помилку з номером рядка та завершення скрипта.

───────────────────────────────  
🔹 Приклад  
───────────────────────────────

```
#!/usr/bin/env bash  
set -euo pipefail  
IFS=$'\n\t'  

trap 'echo "Сталася помилка на рядку $LINENO"; exit 1' ERR

mkdir -p /tmp/test  
cp /неіснуючий_файл.txt /tmp/test/
```

→ Вивід при помилці:  
  ```Сталася помилка на рядку 8```

───────────────────────────────  
✅ Переваги  
───────────────────────────────

✓ Уніфікована поведінка скриптів  
✓ Швидке виявлення помилок  
✓ Безпечна робота з конвеєрами та змінними  
✓ Проста діагностика  
✓ Відповідність best practices

───────────────────────────────  
📌 Примітка  
───────────────────────────────

Цей шаблон рекомендовано додавати у кожен Bash-скрипт проєкту, незалежно від його функціоналу.
